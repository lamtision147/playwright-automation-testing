!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("fs"),require("os"),require("path"),require("playwright-core"),require("https"),require("events"),require("zlib"),require("stream")):"function"==typeof define&&define.amd?define(["exports","fs","os","path","playwright-core","https","events","zlib","stream"],t):t((e||self).dappwright={},e.fs,e.os,e.path,e.playwrightCore,e.https,e.events,e.zlib,e.stream)}(this,function(e,t,r,n,o,i,c,s,u){function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,t}var f=/*#__PURE__*/a(t),h=/*#__PURE__*/l(t),p=/*#__PURE__*/l(r),y=/*#__PURE__*/a(r),d=/*#__PURE__*/a(n),m=/*#__PURE__*/l(n),v=/*#__PURE__*/a(o),g=/*#__PURE__*/a(c),b=/*#__PURE__*/a(s),P=/*#__PURE__*/a(u);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(this,arguments)}function j(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,S(e,t)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}const A="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function E(e,t,r){if(!e.s){if(r instanceof T){if(!r.s)return void(r.o=E.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(E.bind(null,e,t),E.bind(null,e,2));e.s=t,e.v=r;var n=e.o;n&&n(e)}}var T=/*#__PURE__*/function(){function e(){}return e.prototype.then=function(t,r){var n=new e,o=this.s;if(o){var i=1&o?t:r;if(i){try{E(n,1,i(this.v))}catch(e){E(n,2,e)}return n}return this}return this.o=function(e){try{var o=e.v;1&e.s?E(n,1,t?t(o):o):r?E(n,1,r(o)):E(n,2,o)}catch(e){E(n,2,e)}},n},e}();function B(e){return e instanceof T&&1&e.s}var O=function(e,t){return function(r,n){void 0===n&&(n=t);try{var o=function(e,t,r){if("function"==typeof e[A]){var n,o,i,c=e[A]();if(function e(r){try{for(;!(n=c.next()).done;)if((r=t(n.value))&&r.then){if(!B(r))return void r.then(e,i||(i=E.bind(null,o=new T,2)));r=r.v}o?E(o,1,r):o=r}catch(e){E(o||(o=new T),2,e)}}(),c.return){var s=function(e){try{n.done||c.return()}catch(e){}return e};if(o&&o.then)return o.then(s,function(e){throw s(e)});s()}return o}if(!("length"in e))throw new TypeError("Object is not iterable");for(var u=[],a=0;a<e.length;a++)u.push(e[a]);return function(e,t,r){var n,o,i=-1;return function r(c){try{for(;++i<e.length;)if((c=t(i))&&c.then){if(!B(c))return void c.then(r,o||(o=E.bind(null,n=new T,2)));c=c.v}n?E(n,1,c):n=c}catch(e){E(n||(n=new T),2,e)}}(),n}(u,function(e){return t(u[e])})}(n,function(t){return Promise.resolve(t(e,r)).then(function(){})});return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}},x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function F(e){var t={exports:{}};return e(t,t.exports),t.exports}var U,L=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0},R=function(){return L()&&!!Symbol.toStringTag},z="undefined"!=typeof Symbol&&Symbol,N="Function.prototype.bind called on incompatible ",C=Array.prototype.slice,M=Object.prototype.toString,D="[object Function]",_=Function.prototype.bind||function(e){var t=this;if("function"!=typeof t||M.call(t)!==D)throw new TypeError(N+t);for(var r,n=C.call(arguments,1),o=function(){if(this instanceof r){var o=t.apply(this,n.concat(C.call(arguments)));return Object(o)===o?o:this}return t.apply(e,n.concat(C.call(arguments)))},i=Math.max(0,t.length-n.length),c=[],s=0;s<i;s++)c.push("$"+s);if(r=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var u=function(){};u.prototype=t.prototype,r.prototype=new u,u.prototype=null}return r},W="Function.prototype.bind called on incompatible ",G=Array.prototype.slice,V=Object.prototype.toString,J="[object Function]",q=Function.prototype.bind||function(e){var t=this;if("function"!=typeof t||V.call(t)!==J)throw new TypeError(W+t);for(var r,n=G.call(arguments,1),o=function(){if(this instanceof r){var o=t.apply(this,n.concat(G.call(arguments)));return Object(o)===o?o:this}return t.apply(e,n.concat(G.call(arguments)))},i=Math.max(0,t.length-n.length),c=[],s=0;s<i;s++)c.push("$"+s);if(r=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var u=function(){};u.prototype=t.prototype,r.prototype=new u,u.prototype=null}return r},H=q.call(Function.call,Object.prototype.hasOwnProperty),$=SyntaxError,K=Function,Z=TypeError,Q=function(e){try{return K('"use strict"; return ('+e+").constructor;")()}catch(e){}},X=Object.getOwnPropertyDescriptor;if(X)try{X({},"")}catch(e){X=null}var Y=function(){throw new Z},ee=X?function(){try{return Y}catch(e){try{return X(arguments,"callee").get}catch(e){return Y}}}():Y,te="function"==typeof z&&"function"==typeof Symbol&&"symbol"==typeof z("foo")&&"symbol"==typeof Symbol("bar")&&L(),re=Object.getPrototypeOf||function(e){return e.__proto__},ne={},oe="undefined"==typeof Uint8Array?U:re(Uint8Array),ie={"%AggregateError%":"undefined"==typeof AggregateError?U:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?U:ArrayBuffer,"%ArrayIteratorPrototype%":te?re([][Symbol.iterator]()):U,"%AsyncFromSyncIteratorPrototype%":U,"%AsyncFunction%":ne,"%AsyncGenerator%":ne,"%AsyncGeneratorFunction%":ne,"%AsyncIteratorPrototype%":ne,"%Atomics%":"undefined"==typeof Atomics?U:Atomics,"%BigInt%":"undefined"==typeof BigInt?U:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?U:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?U:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?U:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?U:FinalizationRegistry,"%Function%":K,"%GeneratorFunction%":ne,"%Int8Array%":"undefined"==typeof Int8Array?U:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?U:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?U:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":te?re(re([][Symbol.iterator]())):U,"%JSON%":"object"==typeof JSON?JSON:U,"%Map%":"undefined"==typeof Map?U:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&te?re((new Map)[Symbol.iterator]()):U,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?U:Promise,"%Proxy%":"undefined"==typeof Proxy?U:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?U:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?U:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&te?re((new Set)[Symbol.iterator]()):U,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?U:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":te?re(""[Symbol.iterator]()):U,"%Symbol%":te?Symbol:U,"%SyntaxError%":$,"%ThrowTypeError%":ee,"%TypedArray%":oe,"%TypeError%":Z,"%Uint8Array%":"undefined"==typeof Uint8Array?U:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?U:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?U:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?U:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?U:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?U:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?U:WeakSet},ce=function e(t){var r;if("%AsyncFunction%"===t)r=Q("async function () {}");else if("%GeneratorFunction%"===t)r=Q("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=Q("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(r=re(o.prototype))}return ie[t]=r,r},se={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ue=_.call(Function.call,Array.prototype.concat),ae=_.call(Function.apply,Array.prototype.splice),le=_.call(Function.call,String.prototype.replace),fe=_.call(Function.call,String.prototype.slice),he=_.call(Function.call,RegExp.prototype.exec),pe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ye=/\\(\\)?/g,de=function(e){var t=fe(e,0,1),r=fe(e,-1);if("%"===t&&"%"!==r)throw new $("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new $("invalid intrinsic syntax, expected opening `%`");var n=[];return le(e,pe,function(e,t,r,o){n[n.length]=r?le(o,ye,"$1"):t||e}),n},me=function(e,t){var r,n=e;if(H(se,n)&&(n="%"+(r=se[n])[0]+"%"),H(ie,n)){var o=ie[n];if(o===ne&&(o=ce(n)),void 0===o&&!t)throw new Z("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new $("intrinsic "+e+" does not exist!")},ve=function(e,t){if("string"!=typeof e||0===e.length)throw new Z("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new Z('"allowMissing" argument must be a boolean');if(null===he(/^%?[^%]*%?$/,e))throw new $("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=de(e),n=r.length>0?r[0]:"",o=me("%"+n+"%",t),i=o.name,c=o.value,s=!1,u=o.alias;u&&(n=u[0],ae(r,ue([0,1],u)));for(var a=1,l=!0;a<r.length;a+=1){var f=r[a],h=fe(f,0,1),p=fe(f,-1);if(('"'===h||"'"===h||"`"===h||'"'===p||"'"===p||"`"===p)&&h!==p)throw new $("property names with quotes must have matching quotes");if("constructor"!==f&&l||(s=!0),H(ie,i="%"+(n+="."+f)+"%"))c=ie[i];else if(null!=c){if(!(f in c)){if(!t)throw new Z("base intrinsic for "+e+" exists, but the property is not available.");return}if(X&&a+1>=r.length){var y=X(c,f);c=(l=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[f]}else l=H(c,f),c=c[f];l&&!s&&(ie[i]=c)}}return c},ge="Function.prototype.bind called on incompatible ",be=Array.prototype.slice,Pe=Object.prototype.toString,we="[object Function]",je=Function.prototype.bind||function(e){var t=this;if("function"!=typeof t||Pe.call(t)!==we)throw new TypeError(ge+t);for(var r,n=be.call(arguments,1),o=function(){if(this instanceof r){var o=t.apply(this,n.concat(be.call(arguments)));return Object(o)===o?o:this}return t.apply(e,n.concat(be.call(arguments)))},i=Math.max(0,t.length-n.length),c=[],s=0;s<i;s++)c.push("$"+s);if(r=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var u=function(){};u.prototype=t.prototype,r.prototype=new u,u.prototype=null}return r},Se=F(function(e){var t=ve("%Function.prototype.apply%"),r=ve("%Function.prototype.call%"),n=ve("%Reflect.apply%",!0)||je.call(r,t),o=ve("%Object.getOwnPropertyDescriptor%",!0),i=ve("%Object.defineProperty%",!0),c=ve("%Math.max%");if(i)try{i({},"a",{value:1})}catch(e){i=null}e.exports=function(e){var t=n(je,r,arguments);if(o&&i){var s=o(t,"length");s.configurable&&i(t,"length",{value:1+c(0,e.length-(arguments.length-1))})}return t};var s=function(){return n(je,t,arguments)};i?i(e.exports,"apply",{value:s}):e.exports.apply=s}),ke=Se(ve("String.prototype.indexOf")),Ie=function(e,t){var r=ve(e,!!t);return"function"==typeof r&&ke(e,".prototype.")>-1?Se(r):r},Ae=R(),Ee=Ie("Object.prototype.toString"),Te=function(e){return!(Ae&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===Ee(e)},Be=function(e){return!!Te(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==Ee(e)&&"[object Function]"===Ee(e.callee)},Oe=function(){return Te(arguments)}();Te.isLegacyArguments=Be;var xe,Fe,Ue,Le=Oe?Te:Be,Re=Object.prototype.toString,ze=Function.prototype.toString,Ne=/^\s*(?:function)?\*/,Ce=R(),Me=Object.getPrototypeOf,De=function(e){if("function"!=typeof e)return!1;if(Ne.test(ze.call(e)))return!0;if(!Ce)return"[object GeneratorFunction]"===Re.call(e);if(!Me)return!1;if(void 0===xe){var t=function(){if(!Ce)return!1;try{return Function("return function*() {}")()}catch(e){}}();xe=!!t&&Me(t)}return Me(e)===xe},_e=Function.prototype.toString,We="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof We&&"function"==typeof Object.defineProperty)try{Fe=Object.defineProperty({},"length",{get:function(){throw Ue}}),Ue={},We(function(){throw 42},null,Fe)}catch(e){e!==Ue&&(We=null)}else We=null;var Ge=/^\s*class\b/,Ve=function(e){try{var t=_e.call(e);return Ge.test(t)}catch(e){return!1}},Je=function(e){try{return!Ve(e)&&(_e.call(e),!0)}catch(e){return!1}},qe=Object.prototype.toString,He="function"==typeof Symbol&&!!Symbol.toStringTag,$e=!(0 in[,]),Ke=function(){return!1};if("object"==typeof document){var Ze=document.all;qe.call(Ze)===qe.call(document.all)&&(Ke=function(e){if(($e||!e)&&(void 0===e||"object"==typeof e))try{var t=qe.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}var Qe=We?function(e){if(Ke(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{We(e,null,Fe)}catch(e){if(e!==Ue)return!1}return!Ve(e)&&Je(e)}:function(e){if(Ke(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(He)return Je(e);if(Ve(e))return!1;var t=qe.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&Je(e)},Xe=Object.prototype.toString,Ye=Object.prototype.hasOwnProperty,et=function(e,t,r){for(var n=0,o=e.length;n<o;n++)Ye.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))},tt=function(e,t,r){for(var n=0,o=e.length;n<o;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)},rt=function(e,t,r){for(var n in e)Ye.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))},nt=function(e,t,r){if(!Qe(t))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=r),"[object Array]"===Xe.call(e)?et(e,t,n):"string"==typeof e?tt(e,t,n):rt(e,t,n)},ot=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],it="undefined"==typeof globalThis?x:globalThis,ct=ve("%Object.getOwnPropertyDescriptor%",!0);if(ct)try{ct([],"length")}catch(e){ct=null}var st=function(){for(var e=[],t=0;t<ot.length;t++)"function"==typeof it[ot[t]]&&(e[e.length]=ot[t]);return e},ut=ct,at=Ie("Object.prototype.toString"),lt=R(),ft="undefined"==typeof globalThis?x:globalThis,ht=st(),pt=Ie("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},yt=Ie("String.prototype.slice"),dt={},mt=Object.getPrototypeOf;lt&&ut&&mt&&nt(ht,function(e){var t=new ft[e];if(Symbol.toStringTag in t){var r=mt(t),n=ut(r,Symbol.toStringTag);if(!n){var o=mt(r);n=ut(o,Symbol.toStringTag)}dt[e]=n.get}});var vt=function(e){if(!e||"object"!=typeof e)return!1;if(!lt||!(Symbol.toStringTag in e)){var t=yt(at(e),8,-1);return pt(ht,t)>-1}return!!ut&&function(e){var t=!1;return nt(dt,function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}}),t}(e)},gt=Ie("Object.prototype.toString"),bt=R(),Pt="undefined"==typeof globalThis?x:globalThis,wt=st(),jt=Ie("String.prototype.slice"),St={},kt=Object.getPrototypeOf;bt&&ut&&kt&&nt(wt,function(e){if("function"==typeof Pt[e]){var t=new Pt[e];if(Symbol.toStringTag in t){var r=kt(t),n=ut(r,Symbol.toStringTag);if(!n){var o=kt(r);n=ut(o,Symbol.toStringTag)}St[e]=n.get}}});var It=function(e){return!!vt(e)&&(bt&&Symbol.toStringTag in e?function(e){var t=!1;return nt(St,function(r,n){if(!t)try{var o=r.call(e);o===n&&(t=o)}catch(e){}}),t}(e):jt(gt(e),8,-1))},At=F(function(e,t){function r(e){return e.call.bind(e)}var n="undefined"!=typeof BigInt,o="undefined"!=typeof Symbol,i=r(Object.prototype.toString),c=r(Number.prototype.valueOf),s=r(String.prototype.valueOf),u=r(Boolean.prototype.valueOf);if(n)var a=r(BigInt.prototype.valueOf);if(o)var l=r(Symbol.prototype.valueOf);function f(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function h(e){return"[object Map]"===i(e)}function p(e){return"[object Set]"===i(e)}function y(e){return"[object WeakMap]"===i(e)}function d(e){return"[object WeakSet]"===i(e)}function m(e){return"[object ArrayBuffer]"===i(e)}function v(e){return"undefined"!=typeof ArrayBuffer&&(m.working?m(e):e instanceof ArrayBuffer)}function g(e){return"[object DataView]"===i(e)}function b(e){return"undefined"!=typeof DataView&&(g.working?g(e):e instanceof DataView)}t.isArgumentsObject=Le,t.isGeneratorFunction=De,t.isTypedArray=vt,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):vt(e)||b(e)},t.isUint8Array=function(e){return"Uint8Array"===It(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===It(e)},t.isUint16Array=function(e){return"Uint16Array"===It(e)},t.isUint32Array=function(e){return"Uint32Array"===It(e)},t.isInt8Array=function(e){return"Int8Array"===It(e)},t.isInt16Array=function(e){return"Int16Array"===It(e)},t.isInt32Array=function(e){return"Int32Array"===It(e)},t.isFloat32Array=function(e){return"Float32Array"===It(e)},t.isFloat64Array=function(e){return"Float64Array"===It(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===It(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===It(e)},h.working="undefined"!=typeof Map&&h(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(h.working?h(e):e instanceof Map)},p.working="undefined"!=typeof Set&&p(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(p.working?p(e):e instanceof Set)},y.working="undefined"!=typeof WeakMap&&y(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(y.working?y(e):e instanceof WeakMap)},d.working="undefined"!=typeof WeakSet&&d(new WeakSet),t.isWeakSet=function(e){return d(e)},m.working="undefined"!=typeof ArrayBuffer&&m(new ArrayBuffer),t.isArrayBuffer=v,g.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&g(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=b;var P="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function w(e){return"[object SharedArrayBuffer]"===i(e)}function j(e){return void 0!==P&&(void 0===w.working&&(w.working=w(new P)),w.working?w(e):e instanceof P)}function S(e){return f(e,c)}function k(e){return f(e,s)}function I(e){return f(e,u)}function A(e){return n&&f(e,a)}function E(e){return o&&f(e,l)}t.isSharedArrayBuffer=j,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===i(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===i(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===i(e)},t.isGeneratorObject=function(e){return"[object Generator]"===i(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===i(e)},t.isNumberObject=S,t.isStringObject=k,t.isBooleanObject=I,t.isBigIntObject=A,t.isSymbolObject=E,t.isBoxedPrimitive=function(e){return S(e)||k(e)||I(e)||A(e)||E(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(v(e)||j(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})})}),Et=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8},Tt=F(function(e){e.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}),Bt=F(function(e,t){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},n=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var o=arguments,i=o.length,c=String(e).replace(n,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(o[r++]);case"%d":return Number(o[r++]);case"%j":try{return JSON.stringify(o[r++])}catch(e){return"[Circular]"}default:return e}}),u=o[r];r<i;u=o[++r])d(u)||!P(u)?c+=" "+u:c+=" "+s(u);return c},t.deprecate=function(e,r){if("undefined"!=typeof process&&!0===process.noDeprecation)return e;if("undefined"==typeof process)return function(){return t.deprecate(e,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}};var o={},i=/^$/;if(process.env.NODE_DEBUG){var c=process.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+c+"$","i")}function s(e,r){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(r)?n.showHidden=r:r&&t._extend(n,r),g(n.showHidden)&&(n.showHidden=!1),g(n.depth)&&(n.depth=2),g(n.colors)&&(n.colors=!1),g(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),l(n,e,n.depth)}function u(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function a(e,t){return e}function l(e,r,n){if(e.customInspect&&r&&S(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return v(o)||(o=l(e,o,n)),o}var i=function(e,t){if(g(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):d(t)?e.stylize("null","null"):void 0}(e,r);if(i)return i;var c=Object.keys(r),s=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(c);if(e.showHidden&&(c=Object.getOwnPropertyNames(r)),j(r)&&(c.indexOf("message")>=0||c.indexOf("description")>=0))return f(r);if(0===c.length){if(S(r))return e.stylize("[Function"+(r.name?": "+r.name:"")+"]","special");if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return e.stylize(Date.prototype.toString.call(r),"date");if(j(r))return f(r)}var u,a="",P=!1,k=["{","}"];return p(r)&&(P=!0,k=["[","]"]),S(r)&&(a=" [Function"+(r.name?": "+r.name:"")+"]"),b(r)&&(a=" "+RegExp.prototype.toString.call(r)),w(r)&&(a=" "+Date.prototype.toUTCString.call(r)),j(r)&&(a=" "+f(r)),0!==c.length||P&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=P?function(e,t,r,n,o){for(var i=[],c=0,s=t.length;c<s;++c)T(t,String(c))?i.push(h(e,t,r,n,String(c),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(h(e,t,r,n,o,!0))}),i}(e,r,n,s,c):c.map(function(t){return h(e,r,n,s,t,P)}),e.seen.pop(),function(e,t,r){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(u,a,k)):k[0]+a+k[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,o,i){var c,s,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=e.stylize(u.set?"[Getter/Setter]":"[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),T(n,o)||(c="["+o+"]"),s||(e.seen.indexOf(u.value)<0?(s=d(r)?l(e,u.value,null):l(e,u.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").slice(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),g(c)){if(i&&o.match(/^\d+$/))return s;(c=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.slice(1,-1),c=e.stylize(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=e.stylize(c,"string"))}return c+": "+s}function p(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function d(e){return null===e}function m(e){return"number"==typeof e}function v(e){return"string"==typeof e}function g(e){return void 0===e}function b(e){return P(e)&&"[object RegExp]"===k(e)}function P(e){return"object"==typeof e&&null!==e}function w(e){return P(e)&&"[object Date]"===k(e)}function j(e){return P(e)&&("[object Error]"===k(e)||e instanceof Error)}function S(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!o[e])if(i.test(e)){var r=process.pid;o[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else o[e]=function(){};return o[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=At,t.isArray=p,t.isBoolean=y,t.isNull=d,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=g,t.isRegExp=b,t.types.isRegExp=b,t.isObject=P,t.isDate=w,t.types.isDate=w,t.isError=j,t.types.isNativeError=j,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=Et;var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",E(),t.format.apply(t,arguments))},t.inherits=Tt,t._extend=function(e,t){if(!t||!P(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var B="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function O(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(B&&e[B]){var t;if("function"!=typeof(t=e[B]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,B,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(e,n){e?r(e):t(n)});try{e.apply(this,o)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),B&&Object.defineProperty(t,B,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=B,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var o=this,i=function(){return n.apply(o,arguments)};e.apply(this,t).then(function(e){process.nextTick(i.bind(null,null,e))},function(e){process.nextTick(O.bind(null,e,i))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,r(e)),t}});let Ot=f.default;const xt=101010256,Ft=117853008,Ut=101075792,Lt=4294967295,Rt=65535,zt=function(e){let t,r,n,o,i,c;const s=this,u=!1!==e.storeEntries?{}:null,a=e.file,l=e.nameEncoding?new TextDecoder(e.nameEncoding):null;function f(){Ot.fstat(t,(i,c)=>{if(i)return s.emit("error",i);r=c.size,n=e.chunkSize||Math.round(r/1e3),n=Math.max(Math.min(n,Math.min(131072,r)),Math.min(1024,r)),function(){const e=Math.min(65557,r);o={win:new Gt(t),totalReadLength:e,minPos:r-e,lastPos:r,chunkSize:Math.min(1024,n),firstByte:80,sig:xt,complete:p},o.win.read(r-o.chunkSize,o.chunkSize,h)}()})}function h(e,t){if(e||!t)return s.emit("error",e||new Error("Archive read error"));let r=o.lastPos,n=r-o.win.position;const i=o.win.buffer,c=o.minPos;for(;--r>=c&&--n>=0;)if(i.length-n>=4&&i[n]===o.firstByte&&i.readUInt32LE(n)===o.sig)return o.lastBufferPosition=n,o.lastBytesRead=t,void o.complete();if(r===c)return s.emit("error",new Error("Bad archive"));if(o.lastPos=r+1,o.chunkSize*=2,r<=c)return s.emit("error",new Error("Bad archive"));const u=Math.min(o.chunkSize,r-c);o.win.expandLeft(u,h)}function p(){const e=o.win.buffer,t=o.lastBufferPosition;try{i=new Ct,i.read(e.slice(t,t+22)),i.headerOffset=o.win.position+t,s.comment=i.commentLength?e.slice(t+22,t+22+i.commentLength).toString():null,s.entriesCount=i.volumeEntries,s.centralDirectory=i,i.volumeEntries===Rt&&i.totalEntries===Rt||i.size===Lt||i.offset===Lt?o.lastBufferPosition>20?(o.lastBufferPosition-=20,y()):(o={win:o.win,totalReadLength:20,minPos:o.win.position-20,lastPos:o.win.position,chunkSize:o.chunkSize,firstByte:80,sig:Ft,complete:y},o.win.read(o.lastPos-o.chunkSize,o.chunkSize,h)):(o={},v())}catch(e){s.emit("error",e)}}function y(){const e=o.win.buffer,t=new Mt;t.read(e.slice(o.lastBufferPosition,o.lastBufferPosition+20)),o={win:o.win,totalReadLength:r-t.headerOffset,minPos:t.headerOffset,lastPos:o.lastPos,chunkSize:o.chunkSize,firstByte:80,sig:Ut,complete:m},o.win.read(r-o.chunkSize,o.chunkSize,h)}function m(){const e=o.win.buffer,t=new Dt;t.read(e.slice(o.lastBufferPosition,o.lastBufferPosition+56)),s.centralDirectory.volumeEntries=t.volumeEntries,s.centralDirectory.totalEntries=t.totalEntries,s.centralDirectory.size=t.size,s.centralDirectory.offset=t.offset,s.entriesCount=t.volumeEntries,o={},v()}function v(){o={win:new Gt(t),pos:i.offset,chunkSize:n,entriesLeft:i.volumeEntries},o.win.read(o.pos,Math.min(n,r-o.pos),P)}function P(t,r){if(t||!r)return s.emit("error",t||new Error("Entries read error"));let i=o.pos-o.win.position,c=o.entry;const a=o.win.buffer,f=a.length;try{for(;o.entriesLeft>0;){c||(c=new _t,c.readHeader(a,i),c.headerOffset=o.win.position+i,o.entry=c,o.pos+=46,i+=46);const t=c.fnameLen+c.extraLen+c.comLen;if(f-i<t+(o.entriesLeft>1?46:0))return o.win.moveRight(n,P,i),void(o.move=!0);c.read(a,i,l),e.skipEntryNameValidation||c.validateName(),u&&(u[c.name]=c),s.emit("entry",c),o.entry=c=null,o.entriesLeft--,o.pos+=t,i+=t}s.emit("ready")}catch(t){s.emit("error",t)}}function w(){if(!u)throw new Error("storeEntries disabled")}function j(e){return e.offset+30+e.fnameLen+e.extraLen}function S(e){return 8!=(8&e.flags)}function k(e,r,n){s.stream(e,(o,i)=>{if(o)n(o);else{let o,c;i.on("error",e=>{c=e,o&&(i.unpipe(o),o.close(()=>{n(e)}))}),Ot.open(r,"w",(u,a)=>{if(u)return n(u);c?Ot.close(t,()=>{n(c)}):(o=Ot.createWriteStream(r,{fd:a}),o.on("finish",()=>{s.emit("extract",e,r),c||n()}),i.pipe(o))})}})}function I(e,t,r){if(!t.length)return r();let n=t.shift();n=d.default.join(e,d.default.join(...n)),Ot.mkdir(n,{recursive:!0},n=>{if(n&&"EEXIST"!==n.code)return r(n);I(e,t,r)})}function A(e,t,r,n,o){if(!r.length)return n(null,o);const i=r.shift(),c=d.default.join(e,i.name.replace(t,""));k(i,c,i=>{if(i)return n(i,o);A(e,t,r,n,o+1)})}e.fd?(t=e.fd,f()):Ot.open(a,"r",(e,r)=>{if(e)return s.emit("error",e);t=r,f()}),Object.defineProperty(this,"ready",{get:()=>!1}),this.entry=function(e){return w(),u[e]},this.entries=function(){return w(),u},this.stream=function(e,r){return this.openEntry(e,(e,n)=>{if(e)return r(e);const o=j(n);let i=new Vt(t,o,n.compressedSize);if(0===n.method);else{if(8!==n.method)return r(new Error("Unknown compression method: "+n.method));i=i.pipe(b.default.createInflateRaw())}S(n)&&(i=i.pipe(new Jt(i,n.crc,n.size))),r(null,i)},!1)},this.entryDataSync=function(e){let r=null;if(this.openEntry(e,(t,n)=>{r=t,e=n},!0),r)throw r;let n=Buffer.alloc(e.compressedSize);if(new Wt(t,n,0,e.compressedSize,j(e),e=>{r=e}).read(!0),r)throw r;if(0===e.method);else{if(8!==e.method&&9!==e.method)throw new Error("Unknown compression method: "+e.method);n=b.default.inflateRawSync(n)}if(n.length!==e.size)throw new Error("Invalid size");return S(e)&&new qt(e.crc,e.size).data(n),n},this.openEntry=function(e,r,n){if("string"==typeof e&&(w(),!(e=u[e])))return r(new Error("Entry not found"));if(!e.isFile)return r(new Error("Entry is not file"));if(!t)return r(new Error("Archive closed"));const o=Buffer.alloc(30);new Wt(t,o,0,o.length,e.offset,t=>{if(t)return r(t);let n;try{e.readDataHeader(o),e.encrypted&&(n=new Error("Entry encrypted"))}catch(e){n=e}r(n,e)}).read(n)},this.extract=function(e,t,r){let n=e||"";if("string"==typeof e&&((e=this.entry(e))?n=e.name:n.length&&"/"!==n[n.length-1]&&(n+="/")),!e||e.isDirectory){const e=[],o=[],i={};for(const t in u)if(Object.prototype.hasOwnProperty.call(u,t)&&0===t.lastIndexOf(n,0)){let r=t.replace(n,"");const c=u[t];if(c.isFile&&(e.push(c),r=d.default.dirname(r)),r&&!i[r]&&"."!==r){i[r]=!0;let e=r.split("/").filter(e=>e);for(e.length&&o.push(e);e.length>1;){e=e.slice(0,e.length-1);const t=e.join("/");if(i[t]||"."===t)break;i[t]=!0,o.push(e)}}}o.sort((e,t)=>e.length-t.length),o.length?I(t,o,o=>{o?r(o):A(t,n,e,r,0)}):A(t,n,e,r,0)}else Ot.stat(t,(n,o)=>{o&&o.isDirectory()?k(e,d.default.join(t,d.default.basename(e.name)),r):k(e,t,r)})},this.close=function(e){c||!t?(c=!0,e&&e()):(c=!0,Ot.close(t,r=>{t=null,e&&e(r)}))};const E=g.default.EventEmitter.prototype.emit;this.emit=function(...e){if(!c)return E.call(this,...e)}};zt.setFs=function(e){Ot=e},zt.debugLog=(...e)=>{zt.debug&&console.log(...e)},Bt.inherits(zt,g.default.EventEmitter);const Nt=Symbol("zip");zt.async=class extends g.default.EventEmitter{constructor(e){super();const t=new zt(e);t.on("entry",e=>this.emit("entry",e)),t.on("extract",(e,t)=>this.emit("extract",e,t)),this[Nt]=new Promise((e,r)=>{t.on("ready",()=>{t.removeListener("error",r),e(t)}),t.on("error",r)})}get entriesCount(){return this[Nt].then(e=>e.entriesCount)}get comment(){return this[Nt].then(e=>e.comment)}async entry(e){return(await this[Nt]).entry(e)}async entries(){return(await this[Nt]).entries()}async stream(e){const t=await this[Nt];return new Promise((r,n)=>{t.stream(e,(e,t)=>{e?n(e):r(t)})})}async entryData(e){const t=await this.stream(e);return new Promise((e,r)=>{const n=[];t.on("data",e=>n.push(e)),t.on("end",()=>{e(Buffer.concat(n))}),t.on("error",e=>{t.removeAllListeners("end"),r(e)})})}async extract(e,t){const r=await this[Nt];return new Promise((n,o)=>{r.extract(e,t,(e,t)=>{e?o(e):n(t)})})}async close(){const e=await this[Nt];return new Promise((t,r)=>{e.close(e=>{e?r(e):t()})})}};class Ct{read(e){if(22!==e.length||e.readUInt32LE(0)!==xt)throw new Error("Invalid central directory");this.volumeEntries=e.readUInt16LE(8),this.totalEntries=e.readUInt16LE(10),this.size=e.readUInt32LE(12),this.offset=e.readUInt32LE(16),this.commentLength=e.readUInt16LE(20)}}class Mt{read(e){if(20!==e.length||e.readUInt32LE(0)!==Ft)throw new Error("Invalid zip64 central directory locator");this.headerOffset=Kt(e,8)}}class Dt{read(e){if(56!==e.length||e.readUInt32LE(0)!==Ut)throw new Error("Invalid central directory");this.volumeEntries=Kt(e,24),this.totalEntries=Kt(e,32),this.size=Kt(e,40),this.offset=Kt(e,48)}}class _t{readHeader(e,t){if(e.length<t+46||33639248!==e.readUInt32LE(t))throw new Error("Invalid entry header");this.verMade=e.readUInt16LE(t+4),this.version=e.readUInt16LE(t+6),this.flags=e.readUInt16LE(t+8),this.method=e.readUInt16LE(t+10);const r=e.readUInt16LE(t+12),n=e.readUInt16LE(t+12+2);this.time=Ht(r,n),this.crc=e.readUInt32LE(t+16),this.compressedSize=e.readUInt32LE(t+20),this.size=e.readUInt32LE(t+24),this.fnameLen=e.readUInt16LE(t+28),this.extraLen=e.readUInt16LE(t+30),this.comLen=e.readUInt16LE(t+32),this.diskStart=e.readUInt16LE(t+34),this.inattr=e.readUInt16LE(t+36),this.attr=e.readUInt32LE(t+38),this.offset=e.readUInt32LE(t+42)}readDataHeader(e){if(67324752!==e.readUInt32LE(0))throw new Error("Invalid local header");this.version=e.readUInt16LE(4),this.flags=e.readUInt16LE(6),this.method=e.readUInt16LE(8);const t=e.readUInt16LE(10),r=e.readUInt16LE(12);this.time=Ht(t,r),this.crc=e.readUInt32LE(14)||this.crc;const n=e.readUInt32LE(18);n&&n!==Lt&&(this.compressedSize=n);const o=e.readUInt32LE(22);o&&o!==Lt&&(this.size=o),this.fnameLen=e.readUInt16LE(26),this.extraLen=e.readUInt16LE(28)}read(e,t,r){const n=e.slice(t,t+=this.fnameLen);this.name=r?r.decode(new Uint8Array(n)):n.toString("utf8");const o=e[t-1];this.isDirectory=47===o||92===o,this.extraLen&&(this.readExtra(e,t),t+=this.extraLen),this.comment=this.comLen?e.slice(t,t+this.comLen).toString():null}validateName(){if(/\\|^\w+:|^\/|(^|\/)\.\.(\/|$)/.test(this.name))throw new Error("Malicious entry: "+this.name)}readExtra(e,t){let r,n;const o=t+this.extraLen;for(;t<o;)r=e.readUInt16LE(t),n=e.readUInt16LE(t+=2),t+=2,1===r&&this.parseZip64Extra(e,t,n),t+=n}parseZip64Extra(e,t,r){r>=8&&this.size===Lt&&(this.size=Kt(e,t),t+=8,r-=8),r>=8&&this.compressedSize===Lt&&(this.compressedSize=Kt(e,t),t+=8,r-=8),r>=8&&this.offset===Lt&&(this.offset=Kt(e,t),t+=8,r-=8),r>=4&&this.diskStart===Rt&&(this.diskStart=e.readUInt32LE(t))}get encrypted(){return 1==(1&this.flags)}get isFile(){return!this.isDirectory}}class Wt{constructor(e,t,r,n,o,i){this.fd=e,this.buffer=t,this.offset=r,this.length=n,this.position=o,this.callback=i,this.bytesRead=0,this.waiting=!1}read(e){let t;if(zt.debugLog("read",this.position,this.bytesRead,this.length,this.offset),this.waiting=!0,e){let r=0;try{r=Ot.readSync(this.fd,this.buffer,this.offset+this.bytesRead,this.length-this.bytesRead,this.position+this.bytesRead)}catch(e){t=e}this.readCallback(e,t,t?r:null)}else Ot.read(this.fd,this.buffer,this.offset+this.bytesRead,this.length-this.bytesRead,this.position+this.bytesRead,this.readCallback.bind(this,e))}readCallback(e,t,r){if("number"==typeof r&&(this.bytesRead+=r),t||!r||this.bytesRead===this.length)return this.waiting=!1,this.callback(t,this.bytesRead);this.read(e)}}class Gt{constructor(e){this.position=0,this.buffer=Buffer.alloc(0),this.fd=e,this.fsOp=null}checkOp(){if(this.fsOp&&this.fsOp.waiting)throw new Error("Operation in progress")}read(e,t,r){this.checkOp(),this.buffer.length<t&&(this.buffer=Buffer.alloc(t)),this.position=e,this.fsOp=new Wt(this.fd,this.buffer,0,t,this.position,r).read()}expandLeft(e,t){this.checkOp(),this.buffer=Buffer.concat([Buffer.alloc(e),this.buffer]),this.position-=e,this.position<0&&(this.position=0),this.fsOp=new Wt(this.fd,this.buffer,0,e,this.position,t).read()}expandRight(e,t){this.checkOp();const r=this.buffer.length;this.buffer=Buffer.concat([this.buffer,Buffer.alloc(e)]),this.fsOp=new Wt(this.fd,this.buffer,r,e,this.position+r,t).read()}moveRight(e,t,r){this.checkOp(),r?this.buffer.copy(this.buffer,0,r):r=0,this.position+=r,this.fsOp=new Wt(this.fd,this.buffer,this.buffer.length-r,r,this.position+this.buffer.length-r,t).read()}}class Vt extends P.default.Readable{constructor(e,t,r){super(),this.fd=e,this.offset=t,this.length=r,this.pos=0,this.readCallback=this.readCallback.bind(this)}_read(e){const t=Buffer.alloc(Math.min(e,this.length-this.pos));t.length?Ot.read(this.fd,t,0,t.length,this.offset+this.pos,this.readCallback):this.push(null)}readCallback(e,t,r){this.pos+=t,e?(this.emit("error",e),this.push(null)):t?(t!==r.length&&(r=r.slice(0,t)),this.push(r)):this.push(null)}}class Jt extends P.default.Transform{constructor(e,t,r){super(),this.verify=new qt(t,r),e.on("error",e=>{this.emit("error",e)})}_transform(e,t,r){let n;try{this.verify.data(e)}catch(e){n=e}r(n,e)}}class qt{constructor(e,t){this.crc=e,this.size=t,this.state={crc:-1,size:0}}data(e){const t=qt.getCrcTable();let r=this.state.crc,n=0,o=e.length;for(;--o>=0;)r=t[255&(r^e[n++])]^r>>>8;if(this.state.crc=r,this.state.size+=e.length,this.state.size>=this.size){const e=Buffer.alloc(4);if(e.writeInt32LE(4294967295&~this.state.crc,0),r=e.readUInt32LE(0),r!==this.crc)throw new Error("Invalid CRC");if(this.state.size!==this.size)throw new Error("Invalid size")}}static getCrcTable(){let e=qt.crcTable;if(!e){qt.crcTable=e=[];const t=Buffer.alloc(4);for(let r=0;r<256;r++){let n=r;for(let e=8;--e>=0;)0!=(1&n)?n=3988292384^n>>>1:n>>>=1;n<0&&(t.writeInt32LE(n,0),n=t.readUInt32LE(0)),e[r]=n}}return e}}function Ht(e,t){const r=$t(e,16),n=$t(t,16),o={h:parseInt(r.slice(0,5).join(""),2),m:parseInt(r.slice(5,11).join(""),2),s:2*parseInt(r.slice(11,16).join(""),2),Y:parseInt(n.slice(0,7).join(""),2)+1980,M:parseInt(n.slice(7,11).join(""),2),D:parseInt(n.slice(11,16).join(""),2)},i=[o.Y,o.M,o.D].join("-")+" "+[o.h,o.m,o.s].join(":")+" GMT+0";return new Date(i).getTime()}function $t(e,t){let r=(e>>>0).toString(2);for(;r.length<t;)r="0"+r;return r.split("")}function Kt(e,t){return 4294967296*e.readUInt32LE(t+4)+e.readUInt32LE(t)}var Zt=zt,Qt=function(e,t){if(e===t)return!1;for(var r=e.replace(/[^\d.-]/g,"").split("."),n=t.replace(/[^\d.-]/g,"").split("."),o=r.length>n.length?r.length:n.length,i=0;i<o;i++)if((Number(r[i])||0)!==(Number(n[i])||0))return(Number(n[i])||0)>(Number(r[i])||0);return!0},Xt=function(e){return 0===h.readdirSync(e,{withFileTypes:!0}).filter(function(e){return e.isFile()&&!e.name.startsWith(".")}).length},Yt=function(e,t,r){return function(n){try{var o,i=n.version,c=function(){if(i)return console.log(""),"latest"===i?console.warn("[33m%s[0m","It is not recommended to run "+e+' with "latest" version. Use it at your own risk or set to the recommended version "'+r+'".'):Qt(r,i)?console.warn("[33m%s[0m","Seems you are running a newer version ("+i+") of "+e+' than recommended by the Dappwright team.\n      Use it at your own risk or set to the recommended version "'+r+'".'):Qt(i,r)?console.warn("[33m%s[0m","Seems you are running an older version ("+i+") of "+e+' than recommended by the Dappwright team.\n      Use it at your own risk or set the recommended version "'+r+'".'):console.log("Running tests on "+e+" version "+i),console.log(""),Promise.resolve(tr(i,t,er(e))).then(function(e){o=e});console.log("Running tests on local "+e+" build")}();return Promise.resolve(c&&c.then?c.then(function(){return o}):o)}catch(e){return Promise.reject(e)}}},er=function(e){return m.resolve(p.tmpdir(),"dappwright",e)},tr=function(e,t,r){try{var n=m.resolve(r,e.replace(/\./g,"_"));return"latest"!==e&&h.existsSync(n)&&!Xt(n)?Promise.resolve(n):(console.log("Downloading extension..."),Promise.resolve(nr(t,"v"+e)).then(function(e){var t=e.filename,o=e.downloadUrl;h.existsSync(n)&&Xt(n)&&h.rmdirSync(n,{recursive:!0});var i=function(){if(!h.existsSync(n)||Xt(n))return Promise.resolve(rr(t,o,r)).then(function(e){var t=new Zt.async({file:e});return h.mkdirSync(n),Promise.resolve(t.extract(null,n)).then(function(){var e=m.resolve(n,"manifest.json"),t=JSON.parse(h.readFileSync(e,"utf-8"));t.key="MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAnpiOcYGaEp02v5On5luCk/4g9j+ujgWeGlpZVibaSz6kUlyiZvcVNIIUXR568uv5NrEi5+j9+HbzshLALhCn9S43E7Ha6Xkdxs3kOEPBu8FRNwFh2S7ivVr6ixnl2FCGwfkP1S1r7k665eC1/xYdJKGCc8UByfSw24Rtl5odUqZX1SaE6CsQEMymCFcWhpE3fV+LZ6RWWJ63Zm1ac5KmKzXdj7wZzN3onI0Csc8riBZ0AujkThJmCR8tZt2PkVUDX9exa0XkJb79pe0Ken5Bt2jylJhmQB7R3N1pVNhNQt17Sytnwz6zG2YsB2XNd/1VYJe52cPNJc7zvhQJpHjh5QIDAQAB",h.writeFileSync(e,JSON.stringify(t))})})}();return i&&i.then?i.then(function(){return n}):n}))}catch(e){return Promise.reject(e)}},rr=function(e,t,r){return new Promise(function(n){try{h.existsSync(r)||h.mkdirSync(r,{recursive:!0});var o=m.join(r,e),c=h.createWriteStream(o);return Promise.resolve(function(e){return new Promise(function(t){i.get(e,function(e){302==e.statusCode?i.get(e.headers.location,t).on("error",function(e){throw console.warn("request redirected error:",e.message),e}):t(e)}).on("error",function(e){throw console.warn("request error:",e.message),e})})}(t)).then(function(e){e.pipe(c),e.on("end",function(){n(o)})})}catch(e){return Promise.reject(e)}})},nr=function(e,t){return new Promise(function(r,n){var o={headers:{"User-Agent":"Mozilla/5.0"}};process.env.GITHUB_TOKEN&&(o.headers.Authorization="Bearer "+process.env.GITHUB_TOKEN),i.get(e,o,function(o){var i="";o.on("data",function(e){i+=e}),o.on("end",function(){var o=JSON.parse(i);if(o.message)return n("There was a problem connecting to github API to get the extension release (URL: "+e+"). Error: "+o.message);for(var c,s=I(o);!(c=s()).done;){var u=c.value;if(!u.draft&&("latest"===t||u.name.includes(t)||u.tag_name.includes(t)))for(var a,l=I(u.assets);!(a=l()).done;){var f=a.value;f.name.includes("chrome")&&r({downloadUrl:f.browser_download_url,filename:f.name,tag:u.tag_name})}}n("Version "+t+" not found!")})}).on("error",function(e){throw console.warn("getGithubRelease error:",e.message),e})})},or=function(e){this.version=void 0,this.page=void 0,this.page=e};or.id=void 0,or.recommendedVersion=void 0,or.releasesUrl=void 0,or.homePath=void 0,or.download=void 0;var ir=function(e){try{return Promise.resolve(e.waitForTimeout(3e3)).then(function(){})}catch(e){return Promise.reject(e)}},cr=function(e,t){try{return Promise.resolve(e.getByRole("button",{name:t,exact:!0}).click()).then(function(){})}catch(e){return Promise.reject(e)}},sr=function(e,t,r,n,o,i){void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===i&&(i=!1);try{var c,s,u=function(t){if(c)return t;function o(){return Promise.resolve(s.type(r)).then(function(){return!0})}var i=function(){if(n)return Promise.resolve(e.evaluate(function(e){e.value=""},s)).then(function(){})}();return i&&i.then?i.then(o):o()},a=function(r,n){try{var i=Promise.resolve(function(e,t,r,n){return void 0===r&&(r=!1),void 0===n&&(n=2e3),e.waitForSelector(["//label[contains(.,'"+t+"')]/following-sibling::textarea","//label[contains(.,'"+t+"')]/following-sibling::*//input","//h6[contains(.,'"+t+"')]/parent::node()/parent::node()/following-sibling::input","//h6[contains(.,'"+t+"')]/parent::node()/parent::node()/following-sibling::*//input"].concat(r?[]:["//span[contains(.,'"+t+"')]/parent::node()/parent::node()/following-sibling::*//input","//span[contains(.,'"+t+"')]/following-sibling::*//input"]).join("|"),{timeout:n})}(e,t,o,5e3)).then(function(e){s=e})}catch(e){return n(e)}return i&&i.then?i.then(void 0,n):i}(0,function(e){if(i)return c=1,!1;throw e});return Promise.resolve(a&&a.then?a.then(u):u(a))}catch(e){return Promise.reject(e)}},ur=function(e){try{return Promise.resolve(Promise.race([e.waitForSelector(".mm-box--color-error-default",{timeout:1e3})]).catch(function(){return null})).then(function(e){return!!e&&e.innerText})}catch(e){return Promise.reject(e)}},ar=function(e){try{var t=e.getByTestId("network-display");return Promise.resolve(t.waitFor({state:"visible"})).then(function(){return Promise.resolve(t.click()).then(function(){})})}catch(e){return Promise.reject(e)}},lr=function(e){try{return Promise.resolve(e.getByTestId("account-options-menu-button").click()).then(function(){})}catch(e){return Promise.reject(e)}},fr=function(e){try{return Promise.resolve(e.getByTestId("account-menu-icon").click()).then(function(){})}catch(e){return Promise.reject(e)}},hr=function(e){try{return Promise.resolve(e.waitForSelector(".app-header__logo-container")).then(function(e){return Promise.resolve(e.click()).then(function(){})})}catch(e){return Promise.reject(e)}},pr=function(e){return function(t){var r=t.networkName,n=t.rpc,o=t.chainId,i=t.symbol;try{return Promise.resolve(e.bringToFront()).then(function(){return Promise.resolve(ar(e)).then(function(){return Promise.resolve(cr(e,"Add network")).then(function(){return Promise.resolve(e.getByTestId("network-display").click()).then(function(){return Promise.resolve(e.getByRole("button",{name:"Add network"}).click()).then(function(){return Promise.resolve(e.getByTestId("add-network-manually").click()).then(function(){return Promise.resolve(e.getByLabel("Network name").fill(r)).then(function(){return Promise.resolve(e.getByLabel("New RPC URL").fill(n)).then(function(){return Promise.resolve(e.getByLabel("Chain ID").fill(String(o))).then(function(){return Promise.resolve(e.getByTestId("network-form-ticker-input").fill(i)).then(function(){return Promise.resolve(ur(e)).then(function(t){function n(t){return Promise.resolve(cr(e,"Save")).then(function(){return Promise.resolve(Promise.all([e.locator("button",{hasText:"Switch to "+r}).click(),e.waitForTimeout(2e3).then(function(){return e.locator("button",{hasText:"Got it"}).isVisible().then(function(t){return t?cr(e,"Got it"):Promise.resolve()})})])).then(function(){})})}var o=function(){if(t)return Promise.resolve(hr(e)).then(function(){throw new SyntaxError(t)})}();return o&&o.then?o.then(n):n()})})})})})})})})})})})}catch(e){return Promise.reject(e)}}},yr=function(e){return function(t){var r=t.tokenAddress,n=t.symbol,o=t.decimals,i=void 0===o?0:o;try{return Promise.resolve(e.bringToFront()).then(function(){return Promise.resolve(e.getByTestId("import-token-button").click()).then(function(){return Promise.resolve(cr(e,"Custom token")).then(function(){return Promise.resolve(e.getByTestId("import-tokens-modal-custom-address").fill(r)).then(function(){return Promise.resolve(e.waitForTimeout(500)).then(function(){function t(){function t(){return Promise.resolve(cr(e,"Next")).then(function(){return Promise.resolve(e.getByTestId("import-tokens-modal-import-button").click()).then(function(){return Promise.resolve(hr(e)).then(function(){})})})}var r=function(){if(i)return Promise.resolve(e.getByTestId("import-tokens-modal-custom-decimals").fill(i.toString())).then(function(){})}();return r&&r.then?r.then(t):t()}var r=function(){if(n)return Promise.resolve(e.getByTestId("import-tokens-modal-custom-symbol").fill(n)).then(function(){})}();return r&&r.then?r.then(t):t()})})})})})}catch(e){return Promise.reject(e)}}},dr=function(e,t){try{return Promise.resolve(e.context().waitForEvent("page")).then(function(e){return Promise.resolve(t(e)).then(function(){var t=function(){if(!e.isClosed())return Promise.resolve(e.waitForEvent("close")).then(function(){})}();if(t&&t.then)return t.then(function(){})})})}catch(e){return Promise.reject(e)}},mr=function(e){return function(){try{return Promise.resolve(dr(e,function(t){return Promise.resolve(vr(t)).then(function(){return Promise.resolve(ir(e)).then(function(){})})})).then(function(){})}catch(e){return Promise.reject(e)}}},vr=function(e){try{return Promise.resolve(e.waitForLoadState()).then(function(){return Promise.resolve(e.bringToFront()).then(function(){return Promise.resolve(e.locator('input[type="checkbox"]').first().check()).then(function(){return Promise.resolve(cr(e,"Next")).then(function(){return Promise.resolve(cr(e,"Confirm")).then(function(){})})})})})}catch(e){return Promise.reject(e)}},gr=function(e){return function(t){try{return Promise.resolve(dr(e,function(e){try{var r=function(){return Promise.resolve(e.getByTestId("page-container-footer-next").click()).then(function(){})},n=function(){if(t)return Promise.resolve(e.getByTestId("edit-gas-fee-icon").click()).then(function(){return Promise.resolve(e.getByTestId("edit-gas-fee-item-custom").click()).then(function(){function r(){function r(){function r(){return Promise.resolve(e.getByRole("button",{name:"Save"}).click()).then(function(){})}var n=function(){if(t.gasLimit)return Promise.resolve(e.getByTestId("advanced-gas-fee-edit").click()).then(function(){return Promise.resolve(e.getByTestId("gas-limit-input").fill(String(t.gasLimit))).then(function(){})})}();return n&&n.then?n.then(r):r()}var n=function(){if(t.priority)return Promise.resolve(e.getByTestId("priority-fee-input").fill(String(t.priority))).then(function(){})}();return n&&n.then?n.then(r):r()}var n=function(){if(t.gas)return Promise.resolve(e.getByTestId("base-fee-input").fill(String(t.gas))).then(function(){})}();return n&&n.then?n.then(r):r()})})}();return Promise.resolve(n&&n.then?n.then(r):r())}catch(e){return Promise.reject(e)}})).then(function(){})}catch(e){return Promise.reject(e)}}},br=function(e){return function(){try{return Promise.resolve(e.bringToFront()).then(function(){return Promise.resolve(fr(e)).then(function(){return Promise.resolve(e.getByTestId("multichain-account-menu-popover-action-button").click()).then(function(){return Promise.resolve(e.getByTestId("multichain-account-menu-popover-add-account").click()).then(function(){return Promise.resolve(e.getByRole("button",{name:"Create"}).click()).then(function(){return Promise.resolve(ir(e)).then(function(){})})})})})})}catch(e){return Promise.reject(e)}}},Pr=function(e){return function(t){try{return Promise.resolve(e.bringToFront()).then(function(){if(1===t)throw new SyntaxError("Account 1 cannot be deleted");return Promise.resolve(fr(e)).then(function(){return Promise.resolve(e.getByRole("button",{name:"Account "+t+" Options"}).click()).then(function(){return Promise.resolve(function(e,t,r){try{return Promise.resolve(function(e,t,r){return void 0===r&&(r="*"),e.waitForSelector("//"+r+"[contains(text(), 'Remove account')]")}(e,0,void 0)).then(function(e){return Promise.resolve(e.click()).then(function(){})})}catch(e){return Promise.reject(e)}}(e)).then(function(){return Promise.resolve(cr(e,"Remove")).then(function(){return Promise.resolve(ir(e)).then(function(){})})})})})})}catch(e){return Promise.reject(e)}}},wr=function(e){return function(t){try{return Promise.resolve(e.bringToFront()).then(function(){return Promise.resolve(ar(e)).then(function(){return Promise.resolve(e.locator(".multichain-network-list-menu").getByText(t,{exact:!0}).hover()).then(function(){return Promise.resolve(cr(e,"Delete network?")).then(function(){return Promise.resolve(cr(e,"Delete")).then(function(){return Promise.resolve(ir(e)).then(function(){})})})})})})}catch(e){return Promise.reject(e)}}},jr=function(e){return function(t){try{return Promise.resolve(e.bringToFront()).then(function(){return Promise.resolve(e.waitForTimeout(1e3)).then(function(){return Promise.resolve(e.getByTestId("eth-overview__primary-currency").textContent()).then(parseFloat)})})}catch(e){return Promise.reject(e)}}},Sr=function(e){return function(t){try{return Promise.resolve(e.bringToFront()).then(function(){return Promise.resolve(fr(e)).then(function(){return Promise.resolve(e.getByTestId("multichain-account-menu-popover-action-button").click()).then(function(){return Promise.resolve(cr(e,"Import account")).then(function(){return Promise.resolve(sr(e,"your private key",t)).then(function(){return Promise.resolve(e.getByTestId("import-account-confirm-button").click()).then(function(){return Promise.resolve(ur(e)).then(function(t){return function(){if(t)return Promise.resolve(cr(e,"Cancel")).then(function(){return Promise.resolve(e.getByRole("dialog").getByRole("button",{name:"Close"}).first().click()).then(function(){throw new SyntaxError(t)})})}()})})})})})})})}catch(e){return Promise.reject(e)}}},kr=function(e){return function(){try{return Promise.resolve(e.bringToFront()).then(function(){return Promise.resolve(lr(e)).then(function(){return Promise.resolve(cr(e,"Lock MetaMask")).then(function(){})})})}catch(e){return Promise.reject(e)}}},Ir=function(e){return function(){try{return Promise.resolve(dr(e,function(e){try{var t=e.getByTestId("confirmation-cancel-button"),r=e.getByTestId("page-container-footer-cancel");return Promise.resolve(t.or(r).click()).then(function(){})}catch(e){return Promise.reject(e)}})).then(function(){})}catch(e){return Promise.reject(e)}}},Ar=function(e){return function(){try{return Promise.resolve(dr(e,function(e){try{return Promise.resolve(e.bringToFront()).then(function(){return Promise.resolve(e.reload()).then(function(){return Promise.resolve(cr(e,"Sign")).then(function(){})})})}catch(e){return Promise.reject(e)}})).then(function(){})}catch(e){return Promise.reject(e)}}},Er=function(e){return function(){try{return Promise.resolve(dr(e,function(t){try{return Promise.resolve(t.waitForSelector("#app-content .app")).then(function(){return Promise.resolve(Promise.all([t.getByText("Signature request").isVisible(),t.getByText("Sign-in request").isVisible()])).then(function(r){var n=r[0],o=r[1];function i(){var r=t.getByTestId("page-container-footer-next");return Promise.resolve(r.scrollIntoViewIfNeeded()).then(function(){return Promise.resolve(r.click()).then(function(){return Promise.resolve(ir(e)).then(function(){})})})}var c=function(){if(!n&&!o)return Promise.resolve(vr(t)).then(function(){})}();return c&&c.then?c.then(i):i()})})}catch(e){return Promise.reject(e)}})).then(function(){})}catch(e){return Promise.reject(e)}}},Tr=function(e){return function(t){try{return Promise.resolve(e.bringToFront()).then(function(){return Promise.resolve(fr(e)).then(function(){return Promise.resolve(e.getByRole("dialog").getByRole("button",{name:"Account "+t,exact:!0}).click()).then(function(){})})})}catch(e){return Promise.reject(e)}}},Br=function(e){return function(t){void 0===t&&(t="main");try{return Promise.resolve(e.bringToFront()).then(function(){return Promise.resolve(ar(e)).then(function(){return Promise.resolve(e.locator(".multichain-network-list-menu").getByText(t,{exact:!0}).click()).then(function(){return Promise.resolve(ir(e)).then(function(){})})})})}catch(e){return Promise.reject(e)}}};const Or="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function xr(e,t,r){if(!e.s){if(r instanceof Fr){if(!r.s)return void(r.o=xr.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(xr.bind(null,e,t),xr.bind(null,e,2));e.s=t,e.v=r;var n=e.o;n&&n(e)}}var Fr=/*#__PURE__*/function(){function e(){}return e.prototype.then=function(t,r){var n=new e,o=this.s;if(o){var i=1&o?t:r;if(i){try{xr(n,1,i(this.v))}catch(e){xr(n,2,e)}return n}return this}return this.o=function(e){try{var o=e.v;1&e.s?xr(n,1,t?t(o):o):r?xr(n,1,r(o)):xr(n,2,o)}catch(e){xr(n,2,e)}},n},e}();function Ur(e){return e instanceof Fr&&1&e.s}var Lr=function(e){try{return Promise.resolve(e.getByTestId("onboarding-complete-done").click()).then(function(){return Promise.resolve(e.getByTestId("pin-extension-next").click()).then(function(){return Promise.resolve(e.getByTestId("pin-extension-done").click()).then(function(){})})})}catch(e){return Promise.reject(e)}},Rr=function(e,t){var r=t.password,n=void 0===r?"password1234":r;try{return Promise.resolve(e.getByTestId("create-password-new").fill(n)).then(function(){return Promise.resolve(e.getByTestId("create-password-confirm").fill(n)).then(function(){return Promise.resolve(e.getByTestId("create-password-terms").click()).then(function(){return Promise.resolve(e.getByTestId("create-password-import").click()).then(function(){})})})})}catch(e){return Promise.reject(e)}},zr=function(e,t){var r=t.seed,n=void 0===r?"already turtle birth enroll since owner keep patch skirt drift any dinner":r;try{return Promise.resolve(e.getByTestId("onboarding-terms-checkbox").click()).then(function(){return Promise.resolve(e.getByTestId("onboarding-import-wallet").click()).then(function(){return Promise.resolve(e.getByTestId("metametrics-i-agree").click()).then(function(){function t(){return Promise.resolve(e.getByTestId("import-srp-confirm").click()).then(function(){})}var r=function(e,t,r){if("function"==typeof e[Or]){var n,o,i,c=e[Or]();if(function e(r){try{for(;!(n=c.next()).done;)if((r=t(n.value))&&r.then){if(!Ur(r))return void r.then(e,i||(i=xr.bind(null,o=new Fr,2)));r=r.v}o?xr(o,1,r):o=r}catch(e){xr(o||(o=new Fr),2,e)}}(),c.return){var s=function(e){try{n.done||c.return()}catch(e){}return e};if(o&&o.then)return o.then(s,function(e){throw s(e)});s()}return o}if(!("length"in e))throw new TypeError("Object is not iterable");for(var u=[],a=0;a<e.length;a++)u.push(e[a]);return function(e,t,r){var n,o,i=-1;return function r(c){try{for(;++i<e.length;)if((c=t(i))&&c.then){if(!Ur(c))return void c.then(r,o||(o=xr.bind(null,n=new Fr,2)));c=c.v}n?xr(n,1,c):n=c}catch(e){xr(n||(n=new Fr),2,e)}}(),n}(u,function(e){return t(u[e])})}(n.split(" ").entries(),function(t){return Promise.resolve(sr(e,t[0]+1+".",t[1])).then(function(){})});return r&&r.then?r.then(t):t()})})})}catch(e){return Promise.reject(e)}},Nr=function(e){try{return Promise.resolve(cr(e,"Manage in settings")).then(function(){return Promise.resolve(Cr(e)).then(function(){return Promise.resolve(e.locator(".tab-bar__tab",{hasText:"Advanced"}).click()).then(function(){return Promise.resolve(function(e,t){try{return Promise.resolve(function(e,t){return e.waitForSelector(["//span[contains(.,'Show test networks')]/parent::div/following-sibling::div/label/div"].join("|"))}(e)).then(function(e){return Promise.resolve(e.click()).then(function(){})})}catch(e){return Promise.reject(e)}}(e)).then(function(){return Promise.resolve(hr(e)).then(function(){return Promise.resolve(ir(e)).then(function(){})})})})})})}catch(e){return Promise.reject(e)}},Cr=function(e){try{return Promise.resolve(lr(e)).then(function(){return Promise.resolve(e.getByTestId("global-menu-settings").click()).then(function(){})})}catch(e){return Promise.reject(e)}},Mr=function(e){try{return Promise.resolve(new Promise(function(e){return setTimeout(e,1e3)})).then(function(){return Promise.resolve(e.getByTestId("popover-close").isVisible()).then(function(t){var r=function(){if(t)return Promise.resolve(e.getByTestId("popover-close").click()).then(function(){})}();if(r&&r.then)return r.then(function(){})})})}catch(e){return Promise.reject(e)}},Dr=function(e){return function(t){void 0===t&&(t="password1234");try{return Promise.resolve(e.bringToFront()).then(function(){return Promise.resolve(e.getByTestId("unlock-password").fill(t)).then(function(){return Promise.resolve(e.getByTestId("unlock-submit").click()).then(function(){return Promise.resolve(Mr(e)).then(function(){})})})})}catch(e){return Promise.reject(e)}}};function _r(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var Wr="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function Gr(e,t,r){if(!e.s){if(r instanceof Vr){if(!r.s)return void(r.o=Gr.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(Gr.bind(null,e,t),Gr.bind(null,e,2));e.s=t,e.v=r;var n=e.o;n&&n(e)}}var Vr=/*#__PURE__*/function(){function e(){}return e.prototype.then=function(t,r){var n=new e,o=this.s;if(o){var i=1&o?t:r;if(i){try{Gr(n,1,i(this.v))}catch(e){Gr(n,2,e)}return n}return this}return this.o=function(e){try{var o=e.v;1&e.s?Gr(n,1,t?t(o):o):r?Gr(n,1,r(o)):Gr(n,2,o)}catch(e){Gr(n,2,e)}},n},e}();function Jr(e){return e instanceof Vr&&1&e.s}var qr=function(e,t){var r=t.seed,n=void 0===r?"already turtle birth enroll since owner keep patch skirt drift any dinner":r,o=t.password,i=void 0===o?"password1234!!!!":o;try{return Promise.resolve(e.getByTestId("btn-import-existing-wallet").click()).then(function(){return Promise.resolve(e.getByTestId("btn-import-recovery-phrase").click()).then(function(){return Promise.resolve(e.getByTestId("secret-input").fill(n)).then(function(){return Promise.resolve(e.getByTestId("btn-import-wallet").click()).then(function(){return Promise.resolve(e.getByTestId("setPassword").fill(i)).then(function(){return Promise.resolve(e.getByTestId("setPasswordVerify").fill(i)).then(function(){return Promise.resolve(e.getByTestId("terms-and-privacy-policy").check()).then(function(){return Promise.resolve(e.getByTestId("btn-password-continue").click()).then(function(){return Promise.resolve(ir(e)).then(function(){})})})})})})})})})}catch(e){return Promise.reject(e)}},Hr=function(e){try{return Promise.resolve(e.getByTestId("portfolio-navigation-link").click()).then(function(){})}catch(e){return Promise.reject(e)}},$r=function(e){try{return Promise.resolve(e.goto(e.url().split("?")[0])).then(function(){})}catch(e){return Promise.reject(e)}},Kr=function(e){return function(){try{return Promise.resolve(dr(e,function(e){try{return Promise.resolve(e.getByTestId("allow-authorize-button").click()).then(function(){})}catch(e){return Promise.reject(e)}})).then(function(){})}catch(e){return Promise.reject(e)}}},Zr=function(e){return function(){try{return Promise.resolve(dr(e,function(e){try{var t=e.getByTestId("deny-authorize-button"),r=e.getByTestId("request-cancel-button");return Promise.resolve(t.or(r).click()).then(function(){})}catch(e){return Promise.reject(e)}})).then(function(){})}catch(e){return Promise.reject(e)}}},Qr=function(e){return function(){try{return Promise.resolve(dr(e,function(e){try{return Promise.resolve(e.getByTestId("sign-message").click()).then(function(){})}catch(e){return Promise.reject(e)}})).then(function(){})}catch(e){return Promise.reject(e)}}},Xr=function(){try{return console.warn("signin not implemented"),Promise.resolve()}catch(e){return Promise.reject(e)}},Yr=function(e){return function(){try{return Promise.resolve(e.getByTestId("settings-navigation-link").click()).then(function(){return Promise.resolve(e.getByTestId("lock-wallet-button").click()).then(function(){})})}catch(e){return Promise.reject(e)}}},en=function(e){return function(t){void 0===t&&(t="password1234!!!!");try{return Promise.resolve(e.getByTestId("unlock-with-password").last().fill(t)).then(function(){return Promise.resolve(e.getByTestId("unlock-wallet-button").last().click()).then(function(){return Promise.resolve(Hr(e)).then(function(){return Promise.resolve(e.waitForSelector("//div[@data-testid='asset-list']//*[not(text='')]",{timeout:1e4})).then(function(){})})})})}catch(e){return Promise.reject(e)}}},tn=function(e){return function(){try{return Promise.resolve(dr(e,function(e){try{var t=function(){return Promise.resolve(e.getByTestId("request-confirm-button").click()).then(function(){})},r=_r(function(){return Promise.resolve(e.waitForSelector("text='Got it'",{timeout:1e3})).then(function(e){return Promise.resolve(e.click()).then(function(){})})},function(){});return Promise.resolve(r&&r.then?r.then(t):t())}catch(e){return Promise.reject(e)}})).then(function(){})}catch(e){return Promise.reject(e)}}},rn=function(e){return function(t){try{return Promise.resolve(e.context().newPage()).then(function(r){return Promise.resolve(r.goto(e.url()+"?internalPopUpRequest=true&action=addCustomNetwork")).then(function(){return Promise.resolve(r.getByTestId("custom-network-name-input").fill(t.networkName)).then(function(){return Promise.resolve(r.getByTestId("custom-network-rpc-url-input").fill(t.rpc)).then(function(){return Promise.resolve(r.getByTestId("custom-network-chain-id-input").fill(t.chainId.toString())).then(function(){return Promise.resolve(r.getByTestId("custom-network-currency-symbol-input").fill(t.symbol)).then(function(){return Promise.resolve(r.getByTestId("custom-network-save").click()).then(function(){function t(){function t(t){return Promise.resolve(r.waitForEvent("close")).then(function(){return Promise.resolve(e.bringToFront()).then(function(){return Promise.resolve(e.reload()).then(function(){})})})}var o=function(){if(n)return Promise.resolve(n.textContent()).then(function(e){return Promise.resolve(r.close()).then(function(){throw new SyntaxError(e)})})}();return o&&o.then?o.then(t):t()}var n,o=_r(function(){return Promise.resolve(r.waitForSelector('//span[@data-testid="text-input-error-label"]',{timeout:50})).then(function(e){n=e})},function(){});return o&&o.then?o.then(t):t()})})})})})})})}catch(e){return Promise.reject(e)}}},nn=function(e){return function(t){try{return Promise.resolve(e.getByTestId("settings-navigation-link").click()).then(function(){return Promise.resolve(e.getByTestId("network-setting").click()).then(function(){return Promise.resolve(e.getByTestId("network-list-search").fill(t)).then(function(){return Promise.resolve(e.waitForSelector('//div[@data-testid="list-"][1]//button')).then(function(t){return Promise.resolve(t.click()).then(function(){return Promise.resolve(e.getByTestId("custom-network-delete").click()).then(function(){return Promise.resolve(Hr(e)).then(function(){})})})})})})})}catch(e){return Promise.reject(e)}}},on=function(e){return function(t){try{return Promise.resolve(e.getByTestId("settings-navigation-link").click()).then(function(){return Promise.resolve(e.getByTestId("network-setting").click()).then(function(){return Promise.resolve(e.getByTestId("network-list-search").fill(t)).then(function(){return Promise.resolve(e.isVisible('//div[@data-testid="list-"][1]//button')).then(function(t){return Promise.resolve(Hr(e)).then(function(){return t})})})})})}catch(e){return Promise.reject(e)}}},cn=function(e){return function(t){try{var r,n=function(){return r?Promise.resolve(r.textContent()).then(function(e){var r=e.replaceAll(/ |,/g,"").split(t)[2];return r?Number(r):0}):0},o=function(e,t,r){if("function"==typeof e[Wr]){var n,o,i,c=e[Wr]();if(function e(r){try{for(;!(n=c.next()).done;)if((r=t(n.value))&&r.then){if(!Jr(r))return void r.then(e,i||(i=Gr.bind(null,o=new Vr,2)));r=r.v}o?Gr(o,1,r):o=r}catch(e){Gr(o||(o=new Vr),2,e)}}(),c.return){var s=function(e){try{n.done||c.return()}catch(e){}return e};if(o&&o.then)return o.then(s,function(e){throw s(e)});s()}return o}if(!("length"in e))throw new TypeError("Object is not iterable");for(var u=[],a=0;a<e.length;a++)u.push(e[a]);return function(e,t,r){var n,o,i=-1;return function r(c){try{for(;++i<e.length;)if((c=t(i))&&c.then){if(!Jr(c))return void c.then(r,o||(o=Gr.bind(null,n=new Vr,2)));c=c.v}n?Gr(n,1,c):n=c}catch(e){Gr(n||(n=new Vr),2,e)}}(),n}(u,function(e){return t(u[e])})}([function(){try{return Promise.resolve(e.bringToFront()).then(function(){return Promise.resolve(e.getByTestId("portfolio-selector-nav-tabLabel--crypto").click()).then(function(){return Promise.resolve(e.waitForSelector('//button[contains(@data-testid, "asset-item")][contains(@data-testid, "'+t+'")]',{timeout:500}))})})}catch(e){return Promise.reject(e)}},function(){try{return Promise.resolve(e.getByTestId("portfolio-selector-nav-tabLabel--testnet").click()).then(function(){return Promise.resolve(e.waitForSelector('//button[contains(@data-testid, "asset-item")][contains(@data-testid, "'+t+'")]',{timeout:500}))})}catch(e){return Promise.reject(e)}}],function(e){var t=_r(function(){return Promise.resolve(e()).then(function(e){r=e})},function(){});if(t&&t.then)return t.then(function(){})});return Promise.resolve(o&&o.then?o.then(n):n())}catch(e){return Promise.reject(e)}}},sn=function(e){return function(){try{return Promise.resolve(e.getByTestId("wallet-switcher--dropdown").click()).then(function(){return Promise.resolve(e.locator('//*[@data-testid="wallet-switcher--dropdown"]/*/*[2]/*').count()).then(function(t){return Promise.resolve(e.getByTestId("wallet-switcher--dropdown").click()).then(function(){return t})})})}catch(e){return Promise.reject(e)}}},un=function(e){return function(){try{return Promise.resolve(e.getByTestId("portfolio-header--switcher-cell-pressable").click()).then(function(){return Promise.resolve(e.getByTestId("wallet-switcher--manage").click()).then(function(){return Promise.resolve(e.getByTestId("manage-wallets-account-item--action-cell-pressable").click()).then(function(){function t(){return Promise.resolve(ir(e)).then(function(){})}var r=_r(function(){return Promise.resolve(e.getByTestId("add-new-wallet--continue").click({timeout:2e3})).then(function(){})},function(){});return r&&r.then?r.then(t):t()})})})}catch(e){return Promise.reject(e)}}},an=function(e){return function(t){try{return Promise.resolve(e.getByTestId("portfolio-header--switcher-cell-pressable").click()).then(function(){return Promise.resolve(e.waitForSelector('(//button[@data-testid="wallet-switcher--wallet-item-cell-pressable"])['+t+"]")).then(function(e){return Promise.resolve(e.click()).then(function(){})})})}catch(e){return Promise.reject(e)}}},ln=function(e){try{return console.warn("deleteAccount not implemented - Coinbase does not support importing/removing additional private keys"),Promise.resolve()}catch(e){return Promise.reject(e)}},fn=function(e){try{return console.warn("addToken not implemented - Coinbase does not support adding custom tokens"),Promise.resolve()}catch(e){return Promise.reject(e)}},hn=function(e){try{return console.warn("importPK not implemented - Coinbase does not support importing/removing private keys"),Promise.resolve()}catch(e){return Promise.reject(e)}},pn=function(e){try{return console.warn("switchNetwork not implemented"),Promise.resolve()}catch(e){return Promise.reject(e)}},yn=function(){try{return console.warn("confirmNetorkSwitch not implemented"),Promise.resolve()}catch(e){return Promise.reject(e)}},dn=/*#__PURE__*/function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).options=void 0,t.defaultSetupSteps=[qr,$r],t.setup=O(t.page,t.defaultSetupSteps),t.addNetwork=rn(t.page),t.addToken=fn,t.approve=Kr(t.page),t.createAccount=un(t.page),t.confirmNetworkSwitch=yn,t.confirmTransaction=tn(t.page),t.countAccounts=sn(t.page),t.deleteAccount=ln,t.deleteNetwork=nn(t.page),t.getTokenBalance=cn(t.page),t.hasNetwork=on(t.page),t.importPK=hn,t.lock=Yr(t.page),t.reject=Zr(t.page),t.sign=Qr(t.page),t.signin=Xr,t.switchAccount=an(t.page),t.switchNetwork=pn,t.unlock=en(t.page),t}return j(t,e),t}(or);dn.id="coinbase",dn.recommendedVersion="3.70.0",dn.releasesUrl="https://api.github.com/repos/TenKeyLabs/coinbase-wallet-archive/releases",dn.homePath="/index.html",dn.download=Yt(dn.id,dn.releasesUrl,dn.recommendedVersion);var mn=function(e){return function(){try{return Promise.resolve(dr(e,function(t){try{return Promise.resolve(t.getByTestId("confirmation-submit-button").click()).then(function(){return Promise.resolve(ir(e)).then(function(){})})}catch(e){return Promise.reject(e)}})).then(function(){})}catch(e){return Promise.reject(e)}}},vn=function(e){return function(){try{return console.warn("countAccounts not yet implemented"),Promise.resolve(-1)}catch(e){return Promise.reject(e)}}},gn=function(e){return function(t){try{return Promise.resolve(e.bringToFront()).then(function(){return Promise.resolve(ar(e)).then(function(){return Promise.resolve(e.locator(".multichain-network-list-menu").locator("p",{hasText:t}).isVisible()).then(function(t){return Promise.resolve(e.getByRole("dialog").getByRole("button",{name:"Close"}).first().click()).then(function(){return t})})})})}catch(e){return Promise.reject(e)}}},bn=/*#__PURE__*/function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).options=void 0,t.defaultSetupSteps=[zr,Rr,Lr,Mr,Nr],t.setup=O(t.page,t.defaultSetupSteps),t.addNetwork=pr(t.page),t.addToken=yr(t.page),t.approve=mr(t.page),t.createAccount=br(t.page),t.confirmNetworkSwitch=mn(t.page),t.confirmTransaction=gr(t.page),t.countAccounts=vn(),t.deleteAccount=Pr(t.page),t.deleteNetwork=wr(t.page),t.getTokenBalance=jr(t.page),t.hasNetwork=gn(t.page),t.importPK=Sr(t.page),t.lock=kr(t.page),t.reject=Ir(t.page),t.sign=Ar(t.page),t.signin=Er(t.page),t.switchAccount=Tr(t.page),t.switchNetwork=Br(t.page),t.unlock=Dr(t.page),t}return j(t,e),t}(or);bn.id="metamask",bn.recommendedVersion="11.16.13",bn.releasesUrl="https://api.github.com/repos/metamask/metamask-extension/releases",bn.homePath="/home.html",bn.download=Yt(bn.id,bn.releasesUrl,bn.recommendedVersion);var Pn=[dn,bn],wn=function(e){var t=Pn.find(function(t){return t.id===e});if(!t)throw new Error("Wallet "+e+" not supported");return t},jn=function(e,t){try{var r,n=function(e){if(r)return e;var n=t.pages()[1];return new o(n)},o=wn(e),i=function(){if(1===t.pages().length){var e,n=function(t){if(r)return t;var n=new o(e);return r=1,n},i=function(n,i){try{var c=Promise.resolve(t.waitForEvent("page",{timeout:2e3})).then(function(t){var n=new o(e=t);return r=1,n})}catch(e){return i()}return c&&c.then?c.then(void 0,i):c}(0,function(){return Promise.resolve(t.newPage()).then(function(t){return e=t,Promise.resolve(e.goto("chrome-extension://gadekpdjmpjjnnemgnhkbjgnjpdaakgh"+o.homePath)).then(function(){})})});return i&&i.then?i.then(n):n(i)}}();return Promise.resolve(i&&i.then?i.then(n):n(i))}catch(e){return Promise.reject(e)}},Sn=function(e,t){try{var r=w({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t)),n=wn(r.wallet);if(!n)throw new Error("Wallet not supported");return Promise.resolve(n.download(r)).then(function(e){var o=[e].concat(r.additionalExtensions||[]),i=["--disable-extensions-except="+o.join(","),"--load-extension="+o.join(","),"--lang=en-US"];0!=t.headless&&i.push("--headless=new");var c=process.env.TEST_WORKER_INDEX||"0",s=m.join(kn,t.wallet,c);return f.default.rmSync(s,{recursive:!0,force:!0}),Promise.resolve(v.default.chromium.launchPersistentContext(s,{headless:!1,args:i})).then(function(e){return Promise.resolve(jn(n.id,e)).then(function(t){return{wallet:t,browserContext:e}})})})}catch(e){return Promise.reject(e)}},kn=m.resolve(y.default.tmpdir(),"dappwright","session"),In=["seed","password","showTestNets"],An=function(e,t){var r=t.seed,n=t.password,o=t.showTestNets,i=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||(o[r]=e[r]);return o}(t,In);try{return Promise.resolve(Sn(0,i)).then(function(e){var t=e.browserContext;return Promise.resolve(jn(i.wallet,t)).then(function(e){return Promise.resolve(e.setup({seed:r,password:n,showTestNets:o})).then(function(){return[e,e.page,t]})})})}catch(e){return Promise.reject(e)}},En={bootstrap:An,launch:Sn,getWallet:jn};e.CoinbaseWallet=dn,e.MetaMaskWallet=bn,e.bootstrap=An,e.default=En,e.getWallet=jn,e.launch=Sn});
//# sourceMappingURL=index.umd.js.map
